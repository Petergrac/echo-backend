{
  "openapi": "3.0.0",
  "paths": {
    "/health": {
      "get": {
        "operationId": "HealthController_check",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The Health Check is successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "ok"
                    },
                    "info": {
                      "type": "object",
                      "example": {
                        "database": {
                          "status": "up"
                        }
                      },
                      "additionalProperties": {
                        "type": "object",
                        "required": [
                          "status"
                        ],
                        "properties": {
                          "status": {
                            "type": "string"
                          }
                        },
                        "additionalProperties": true
                      },
                      "nullable": true
                    },
                    "error": {
                      "type": "object",
                      "example": {},
                      "additionalProperties": {
                        "type": "object",
                        "required": [
                          "status"
                        ],
                        "properties": {
                          "status": {
                            "type": "string"
                          }
                        },
                        "additionalProperties": true
                      },
                      "nullable": true
                    },
                    "details": {
                      "type": "object",
                      "example": {
                        "database": {
                          "status": "up"
                        }
                      },
                      "additionalProperties": {
                        "type": "object",
                        "required": [
                          "status"
                        ],
                        "properties": {
                          "status": {
                            "type": "string"
                          }
                        },
                        "additionalProperties": true
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          },
          "503": {
            "description": "The Health Check is not successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "info": {
                      "type": "object",
                      "example": {
                        "database": {
                          "status": "up"
                        }
                      },
                      "additionalProperties": {
                        "type": "object",
                        "required": [
                          "status"
                        ],
                        "properties": {
                          "status": {
                            "type": "string"
                          }
                        },
                        "additionalProperties": true
                      },
                      "nullable": true
                    },
                    "error": {
                      "type": "object",
                      "example": {
                        "redis": {
                          "status": "down",
                          "message": "Could not connect"
                        }
                      },
                      "additionalProperties": {
                        "type": "object",
                        "required": [
                          "status"
                        ],
                        "properties": {
                          "status": {
                            "type": "string"
                          }
                        },
                        "additionalProperties": true
                      },
                      "nullable": true
                    },
                    "details": {
                      "type": "object",
                      "example": {
                        "database": {
                          "status": "up"
                        },
                        "redis": {
                          "status": "down",
                          "message": "Could not connect"
                        }
                      },
                      "additionalProperties": {
                        "type": "object",
                        "required": [
                          "status"
                        ],
                        "properties": {
                          "status": {
                            "type": "string"
                          }
                        },
                        "additionalProperties": true
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Health"
        ]
      }
    },
    "/health/debug-sentry": {
      "get": {
        "operationId": "HealthController_getError",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Health"
        ]
      }
    },
    "/auth/signup": {
      "post": {
        "description": "Creates a new user account, sends verification email, and returns authentication tokens",
        "operationId": "AuthController_signup",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User successfully registered",
            "headers": {
              "Set-Cookie": {
                "description": "Sets HttpOnly cookies with access_token and refresh_token",
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "409": {
            "description": "Email or username already exists"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Register a new user",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/auth/login": {
      "post": {
        "description": "Authenticate user with email/username and password",
        "operationId": "AuthController_login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "headers": {
              "Set-Cookie": {
                "description": "Sets HttpOnly cookies with access_token (15min) and refresh_token (7days)",
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Invalid credentials or request format"
          },
          "401": {
            "description": "Unauthorized - Invalid credentials"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "429": {
            "description": "Too many login attempts"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "User login",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/auth/refresh": {
      "get": {
        "description": "Uses refresh token to get new access and refresh tokens",
        "operationId": "AuthController_refresh",
        "parameters": [
          {
            "name": "refresh_token",
            "required": false,
            "in": "query",
            "description": "Refresh token (can also be sent in cookies)",
            "schema": {}
          }
        ],
        "responses": {
          "200": {
            "description": "Tokens refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Token rotated"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "No refresh token provided or invalid token"
          },
          "403": {
            "description": "Refresh token invalid or expired"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Refresh authentication tokens",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/auth/logout": {
      "get": {
        "description": "Revokes refresh token for current session and clears cookies",
        "operationId": "AuthController_logout",
        "parameters": [],
        "responses": {
          "204": {
            "description": "Logout successful",
            "headers": {
              "Set-Cookie": {
                "description": "Clears authentication cookies",
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "No valid session found"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Logout from current device",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/auth/logout-all": {
      "post": {
        "description": "Revokes all refresh tokens for the user across all devices",
        "operationId": "AuthController_logoutAll",
        "parameters": [],
        "responses": {
          "204": {
            "description": "Logged out from all devices successfully",
            "headers": {
              "Set-Cookie": {
                "description": "Clears authentication cookies",
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Valid access token required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Logout from all devices",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/auth/request-password-reset": {
      "post": {
        "description": "Sends password reset email to the provided email address if it exists",
        "operationId": "AuthController_requestPasswordReset",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestPasswordResetDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "If email exists, reset link has been sent",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "If that email exists, a reset link has been sent."
                    }
                  }
                }
              }
            }
          },
          "201": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Request password reset",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/auth/reset-password": {
      "post": {
        "description": "Reset user password using token from email",
        "operationId": "AuthController_resetPassword",
        "parameters": [
          {
            "name": "token",
            "required": false,
            "in": "query",
            "description": "Password reset token (can also be sent in body)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Password has been reset successfully."
                    }
                  }
                }
              }
            }
          },
          "201": {
            "description": ""
          },
          "400": {
            "description": "Invalid or missing token"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Invalid or expired token"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Reset password with token",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/auth/verify-email": {
      "get": {
        "description": "Verify email using token sent to email",
        "operationId": "AuthController_verifyEmail",
        "parameters": [
          {
            "name": "token",
            "required": true,
            "in": "query",
            "description": "Email verification token from email",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Email verified successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Email verified successfully."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Invalid or expired token"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Verify email address",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/posts": {
      "post": {
        "description": "Create a post with optional text content and media attachments (up to 5 files)",
        "operationId": "PostsController_createPost",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "Post content (max 200 characters)",
                    "example": "Check out this amazing sunset!",
                    "maxLength": 200
                  },
                  "visibility": {
                    "type": "string",
                    "enum": [
                      "PUBLIC",
                      "FOLLOWERS_ONLY",
                      "PRIVATE"
                    ],
                    "description": "Post visibility setting",
                    "example": "PUBLIC"
                  },
                  "media": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "Media files to upload (images, videos, gifs) - max 5 files",
                    "maxItems": 5
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Post created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input or media files"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Create a new post",
        "tags": [
          "Posts"
        ]
      }
    },
    "/posts/{id}": {
      "get": {
        "description": "Retrieve a specific post by its UUID. Includes engagement metrics and viewer context.",
        "operationId": "PostsController_getPostById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Post UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Post retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Post not found or access denied"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get post by ID",
        "tags": [
          "Posts"
        ]
      },
      "patch": {
        "description": "Update an existing post. Can update content, visibility, and media attachments.",
        "operationId": "PostsController_patchPost",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Post UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "Updated post content (max 200 characters)",
                    "example": "Updated post content",
                    "maxLength": 200
                  },
                  "visibility": {
                    "type": "string",
                    "enum": [
                      "PUBLIC",
                      "FOLLOWERS_ONLY",
                      "PRIVATE"
                    ],
                    "description": "Updated post visibility",
                    "example": "PUBLIC"
                  },
                  "media": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "Updated media files - max 5 files",
                    "maxItems": 5
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Post updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input or media files"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Cannot edit others posts"
          },
          "404": {
            "description": "Post not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Update a post",
        "tags": [
          "Posts"
        ]
      },
      "delete": {
        "description": "Delete a post. Only the post author can delete their post.",
        "operationId": "PostsController_deletePost",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Post UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Post deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Post deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Cannot delete others posts"
          },
          "404": {
            "description": "Post not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Delete a post",
        "tags": [
          "Posts"
        ]
      }
    },
    "/posts/user/{username}": {
      "get": {
        "description": "Retrieve paginated list of posts by a specific user",
        "operationId": "PostsController_getUsersPost",
        "parameters": [
          {
            "name": "username",
            "required": true,
            "in": "path",
            "description": "Username of the user",
            "schema": {
              "example": "john_doe",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get user posts",
        "tags": [
          "Posts"
        ]
      }
    },
    "/posts/feed/for-you": {
      "get": {
        "description": "Get personalized feed based on user interests, following, and engagement patterns",
        "operationId": "PostsController_getAlgorithmicFeed",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "429": {
            "description": "Too many requests"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get algorithmic feed (For You)",
        "tags": [
          "Posts"
        ]
      }
    },
    "/posts/feed/trending": {
      "get": {
        "description": "Get trending posts based on engagement within a specific timeframe",
        "operationId": "PostsController_getTrendingFeed",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "timeframe",
            "required": false,
            "in": "query",
            "description": "Time period for trending calculation (default: week)",
            "schema": {
              "enum": [
                "day",
                "week"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "429": {
            "description": "Too many requests"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get trending feed",
        "tags": [
          "Posts"
        ]
      }
    },
    "/posts/feed/discover": {
      "get": {
        "description": "Discover new content from users you don't follow but might interest you",
        "operationId": "PostsController_getDiscoverFeed",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "429": {
            "description": "Too many requests"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get discover feed",
        "tags": [
          "Posts"
        ]
      }
    },
    "/posts/feed/following": {
      "get": {
        "description": "Get posts from users you follow in chronological order",
        "operationId": "PostsController_getFollowingFeed",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "429": {
            "description": "Too many requests"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get following feed",
        "tags": [
          "Posts"
        ]
      }
    },
    "/engagement/posts/{id}/like": {
      "post": {
        "description": "Toggle like status for a post. If already liked, it will be unliked.",
        "operationId": "EngagementController_toggleLike",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Post UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Like toggled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "liked": {
                      "type": "boolean",
                      "example": true
                    },
                    "likesCount": {
                      "type": "number",
                      "example": 15
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Post not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Like or unlike a post",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/engagement/posts/{id}/likes": {
      "get": {
        "description": "Retrieve paginated list of users who liked a specific post",
        "operationId": "EngagementController_getPostLikes",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Post UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/UserResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Post not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get users who liked a post",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/engagement/me/likes": {
      "get": {
        "description": "Retrieve paginated list of posts that the authenticated user has liked",
        "operationId": "EngagementController_getAllMyLikedPosts",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get posts liked by authenticated user",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/engagement/posts/{id}/bookmark": {
      "post": {
        "description": "Toggle bookmark status for a post. If already bookmarked, it will be removed.",
        "operationId": "EngagementController_toggleBookmark",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Post UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Bookmark toggled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "bookmarked": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Post not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Bookmark or unbookmark a post",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/engagement/me/bookmarks": {
      "get": {
        "description": "Retrieve paginated list of posts bookmarked by the authenticated user",
        "operationId": "EngagementController_getMyBookmarkedPosts",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get bookmarked posts",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/engagement/posts/{id}/reply": {
      "post": {
        "description": "Create a reply to a post. Supports text content and optional media upload.",
        "operationId": "EngagementController_createReply",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Post UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "Reply content (max 280 characters)",
                    "example": "Great post!",
                    "maxLength": 280
                  },
                  "parentReplyId": {
                    "type": "string",
                    "description": "Parent reply ID if replying to another reply",
                    "example": "123e4567-e89b-12d3-a456-426614174001"
                  },
                  "media": {
                    "type": "string",
                    "format": "binary",
                    "description": "Media file to upload (image, video, gif)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Reply created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReplyResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input or media file"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Post not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Create a reply to a post",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/engagement/posts/{id}/{replyId}": {
      "patch": {
        "description": "Update an existing reply. Can update content and/or media.",
        "operationId": "EngagementController_patchReply",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Post UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "replyId",
            "required": true,
            "in": "path",
            "description": "Reply UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174001",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "Updated reply content (max 280 characters)",
                    "example": "Updated reply text",
                    "maxLength": 280
                  },
                  "parentReplyId": {
                    "type": "string",
                    "description": "Parent reply ID if replying to another reply",
                    "example": "123e4567-e89b-12d3-a456-426614174002"
                  },
                  "media": {
                    "type": "string",
                    "format": "binary",
                    "description": "Media file to upload (image, video, gif)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reply updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReplyResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input or media file"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Cannot edit others replies"
          },
          "404": {
            "description": "Post or reply not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Update a reply",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/engagement/posts/{id}/replies": {
      "get": {
        "description": "Retrieve paginated list of replies for a specific post",
        "operationId": "EngagementController_getPostReplies",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Post UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ReplyResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Post not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get post replies",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/engagement/replies/{id}/replies": {
      "get": {
        "description": "Retrieve paginated list of replies to a specific reply (nested replies)",
        "operationId": "EngagementController_getChildReplies",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Reply UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174001",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ReplyResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Reply not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get child replies",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/engagement/replies/{id}": {
      "delete": {
        "description": "Soft delete a reply. Only the reply author can delete their reply.",
        "operationId": "EngagementController_deleteReply",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Reply UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174001",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reply deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Reply deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Cannot delete others replies"
          },
          "404": {
            "description": "Reply not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Delete a reply",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/engagement/posts/{id}/repost": {
      "post": {
        "description": "Create a repost (share) of a post. Can include additional commentary.",
        "operationId": "EngagementController_toggleRepost",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Post UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRepostDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Repost created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Cannot repost your own post or invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Post not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Repost a post",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/engagement/posts/{id}/reposts": {
      "get": {
        "description": "Retrieve paginated list of reposts for a specific post",
        "operationId": "EngagementController_getPostReposts",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Post UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Post not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get post reposts",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/engagement/me/reposts": {
      "get": {
        "description": "Retrieve paginated list of posts reposted by the authenticated user",
        "operationId": "EngagementController_getUserReposts",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get user reposts",
        "tags": [
          "Engagement"
        ]
      }
    },
    "/hashtags/trending": {
      "get": {
        "description": "Retrieve trending hashtags based on recent usage. Can filter by timeframe.",
        "operationId": "HashtagController_getTrendingHashtags",
        "parameters": [
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of hashtags to return (default: 10, max: 50)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "timeframe",
            "required": false,
            "in": "query",
            "description": "Time period for trending calculation (default: week)",
            "schema": {
              "enum": [
                "day",
                "week",
                "month"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Trending hashtags retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "hashtags": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "tag": {
                            "type": "string",
                            "example": "javascript"
                          },
                          "count": {
                            "type": "number",
                            "example": 150
                          },
                          "trendChange": {
                            "type": "number",
                            "example": 15.5
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Get trending hashtags",
        "tags": [
          "Hashtags"
        ]
      }
    },
    "/hashtags/search": {
      "get": {
        "description": "Search for hashtags by partial match. Minimum 2 characters required.",
        "operationId": "HashtagController_searchHashtags",
        "parameters": [
          {
            "name": "q",
            "required": true,
            "in": "query",
            "description": "Search query (minimum 2 characters)",
            "schema": {
              "example": "java",
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of results to return (default: 10, max: 20)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Hashtags retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "hashtags": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "tag": {
                            "type": "string",
                            "example": "javascript"
                          },
                          "count": {
                            "type": "number",
                            "example": 150
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Query too short (minimum 2 characters)"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Search hashtags",
        "tags": [
          "Hashtags"
        ]
      }
    },
    "/hashtags/{tag}/posts": {
      "get": {
        "description": "Retrieve paginated list of posts containing a specific hashtag",
        "operationId": "HashtagController_getHashtagPosts",
        "parameters": [
          {
            "name": "tag",
            "required": true,
            "in": "path",
            "description": "Hashtag (without #)",
            "schema": {
              "example": "javascript",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Get posts by hashtag",
        "tags": [
          "Hashtags"
        ]
      }
    },
    "/mentions/me": {
      "get": {
        "description": "Retrieve paginated list of posts and replies where the authenticated user was mentioned",
        "operationId": "MentionController_getMyMentions",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mentions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "posts": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/PostResponseDto"
                      }
                    },
                    "replies": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ReplyResponseDto"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "currentPage": {
                          "type": "number",
                          "example": 1
                        },
                        "totalPages": {
                          "type": "number",
                          "example": 5
                        },
                        "totalItems": {
                          "type": "number",
                          "example": 100
                        },
                        "hasNextPage": {
                          "type": "boolean",
                          "example": true
                        },
                        "hasPrevPage": {
                          "type": "boolean",
                          "example": false
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Get user mentions",
        "tags": [
          "Mentions"
        ]
      }
    },
    "/mentions/me/unread-count": {
      "get": {
        "description": "Get the total count of unread mentions for the authenticated user",
        "operationId": "MentionController_getUnreadMentionCount",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Unread count retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "type": "number",
                      "description": "Number of unread mentions",
                      "example": 5
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Get unread mention count",
        "tags": [
          "Mentions"
        ]
      }
    },
    "/notifications": {
      "get": {
        "description": "Retrieve paginated list of notifications for the authenticated user, ordered by creation date (newest first)",
        "operationId": "NotificationsController_getUserNotifications",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/NotificationResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get user notifications",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/notifications/unread-count": {
      "get": {
        "description": "Get the total count of unread notifications for the authenticated user",
        "operationId": "NotificationsController_getUnreadCount",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Unread count retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "type": "number",
                      "description": "Number of unread notifications",
                      "example": 15
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get unread notification count",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/notifications/{id}/read": {
      "patch": {
        "description": "Mark a specific notification as read. Only the recipient can mark their own notifications.",
        "operationId": "NotificationsController_markAsRead",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Notification UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notification marked as read",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Cannot mark others notifications as read"
          },
          "404": {
            "description": "Notification not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Mark notification as read",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/notifications/read-all": {
      "patch": {
        "description": "Mark all unread notifications for the authenticated user as read in a single operation",
        "operationId": "NotificationsController_markAllAsRead",
        "parameters": [],
        "responses": {
          "200": {
            "description": "All notifications marked as read",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "updatedCount": {
                      "type": "number",
                      "description": "Number of notifications marked as read",
                      "example": 15
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Mark all notifications as read",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/notifications/{id}": {
      "delete": {
        "description": "Soft delete a specific notification. Only the recipient can delete their own notifications.",
        "operationId": "NotificationsController_deleteNotification",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Notification UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notification deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Notification deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Cannot delete others notifications"
          },
          "404": {
            "description": "Notification not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Delete a notification",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/notifications/delete/delete-all": {
      "delete": {
        "description": "Delete all notifications for the authenticated user. This action cannot be undone.",
        "operationId": "NotificationsController_deleteAllNotifications",
        "parameters": [],
        "responses": {
          "200": {
            "description": "All notifications deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "All notifications have been deleted"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Delete all notifications",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/notifications/preferences": {
      "get": {
        "description": "Retrieve all notification preferences and settings for the authenticated user",
        "operationId": "NotificationPreferencesController_getPreferences",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Preferences retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationPreferencesResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get user notification preferences",
        "tags": [
          "Notifications"
        ]
      },
      "patch": {
        "description": "Update one or multiple notification preference settings",
        "operationId": "NotificationPreferencesController_updatePreferences",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePreferencesDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Preferences updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationPreferencesResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Update notification preferences",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/notifications/preferences/mute-user": {
      "post": {
        "description": "Mute or unmute notifications from a specific user. When muted, you will not receive any notifications from this user.",
        "operationId": "NotificationPreferencesController_muteUser",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MuteUserDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User mute status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationPreferencesResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid user ID or operation"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Mute or unmute notifications from a user",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/notifications/preferences/mute-keyword": {
      "post": {
        "description": "Mute or unmute notifications that contain specific keywords in their content. Useful for filtering out unwanted content.",
        "operationId": "NotificationPreferencesController_muteKeyword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MuteKeywordDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Keyword mute status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationPreferencesResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid keyword or operation"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Mute or unmute notifications containing keywords",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/notifications/preferences/reset": {
      "delete": {
        "description": "Reset all notification preferences to their default values. This action cannot be undone.",
        "operationId": "NotificationPreferencesController_resetToDefaults",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Preferences reset to defaults successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationPreferencesResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Reset notification preferences to defaults",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/notifications/preferences/check-permission/{type}": {
      "get": {
        "description": "Check if a specific notification type would be allowed based on current preferences. Useful for debugging notification settings.",
        "operationId": "NotificationPreferencesController_checkPermission",
        "parameters": [
          {
            "name": "type",
            "required": true,
            "in": "path",
            "description": "Notification type to check",
            "schema": {
              "enum": [
                "LIKE",
                "REPLY",
                "REPOST",
                "FOLLOW",
                "MENTION",
                "SYSTEM"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Permission check completed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "allowed": {
                      "type": "boolean",
                      "example": true
                    },
                    "reason": {
                      "type": "string",
                      "example": "Notification type disabled",
                      "nullable": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid notification type"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Check if a notification type is allowed",
        "tags": [
          "Notifications"
        ]
      }
    },
    "/users/me": {
      "get": {
        "description": "Retrieve detailed profile information of the authenticated user including follower counts, post counts, and engagement metrics.",
        "operationId": "UsersController_getMe",
        "parameters": [],
        "responses": {
          "200": {
            "description": "User profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get current user profile",
        "tags": [
          "Users"
        ]
      },
      "patch": {
        "description": "Update profile information of the authenticated user. Supports updating basic info and uploading avatar.",
        "operationId": "UsersController_updateTheProfile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "firstName": {
                    "type": "string",
                    "description": "First name",
                    "example": "John"
                  },
                  "lastName": {
                    "type": "string",
                    "description": "Last name",
                    "example": "Doe"
                  },
                  "email": {
                    "type": "string",
                    "description": "Email address (will require re-verification if changed)",
                    "example": "john.doe@example.com",
                    "format": "email"
                  },
                  "username": {
                    "type": "string",
                    "description": "Username (must be unique)",
                    "example": "john_doe"
                  },
                  "bio": {
                    "type": "string",
                    "description": "Short biography",
                    "example": "Software developer passionate about open source"
                  },
                  "location": {
                    "type": "string",
                    "description": "Location",
                    "example": "San Francisco, CA"
                  },
                  "website": {
                    "type": "string",
                    "description": "Website URL",
                    "example": "https://john.doe.com",
                    "format": "uri"
                  },
                  "avatar": {
                    "type": "string",
                    "format": "binary",
                    "description": "Avatar image file (jpg, jpeg, png, gif)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input data or no fields to update"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "User not found"
          },
          "413": {
            "description": "File too large"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Update user profile",
        "tags": [
          "Users"
        ]
      },
      "delete": {
        "description": "Permanently delete the authenticated user's account. \n    \n    **WARNING**: This action is irreversible and will:\n    - Soft delete user profile\n    - Remove avatar from storage\n    - Revoke all authentication tokens\n    - Preserve audit logs for compliance\n    \n    User data will be retained for 30 days before permanent deletion.",
        "operationId": "UsersController_deleteAccount",
        "parameters": [],
        "responses": {
          "204": {
            "description": "Account deleted successfully"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Delete user account",
        "tags": [
          "Users"
        ]
      }
    },
    "/users/{username}": {
      "get": {
        "description": "Retrieve public profile information of any user by their username. Includes following status for authenticated user.",
        "operationId": "UsersController_getUserProfile",
        "parameters": [
          {
            "name": "username",
            "required": true,
            "in": "path",
            "description": "Username of the user to retrieve",
            "schema": {
              "example": "john_doe",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "User not found"
          },
          "429": {
            "description": "Too many requests (rate limited)"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get user profile by username",
        "tags": [
          "Users"
        ]
      }
    },
    "/users/{username}/follow": {
      "post": {
        "description": "Toggle follow status for a user. If already following, will unfollow. Returns the updated follow status.",
        "operationId": "FollowController_toggleFollow",
        "parameters": [
          {
            "name": "username",
            "required": true,
            "in": "path",
            "description": "Username of the user to follow/unfollow",
            "schema": {
              "example": "john_doe",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Follow status toggled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "following": {
                      "type": "boolean",
                      "description": "Current follow status (true = following, false = not following)",
                      "example": true
                    },
                    "action": {
                      "type": "string",
                      "enum": [
                        "followed",
                        "unfollowed"
                      ],
                      "description": "Action performed",
                      "example": "followed"
                    },
                    "followerCount": {
                      "type": "number",
                      "description": "Updated follower count for the target user",
                      "example": 150
                    },
                    "followingCount": {
                      "type": "number",
                      "description": "Updated following count for the current user",
                      "example": 75
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Cannot follow yourself"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Follow or unfollow a user",
        "tags": [
          "Follow"
        ]
      }
    },
    "/users/{username}/followers": {
      "get": {
        "description": "Retrieve paginated list of users who follow the specified user. Includes follow status for the authenticated user.",
        "operationId": "FollowController_getUserFollowers",
        "parameters": [
          {
            "name": "username",
            "required": true,
            "in": "path",
            "description": "Username of the user whose followers to retrieve",
            "schema": {
              "example": "john_doe",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/UserResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "User not found"
          },
          "429": {
            "description": "Too many requests (rate limited)"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get user followers",
        "tags": [
          "Follow"
        ]
      }
    },
    "/users/{username}/following": {
      "get": {
        "description": "Retrieve paginated list of users followed by the specified user. Includes follow status for the authenticated user.",
        "operationId": "FollowController_getUserFollowing",
        "parameters": [
          {
            "name": "username",
            "required": true,
            "in": "path",
            "description": "Username of the user whose following list to retrieve",
            "schema": {
              "example": "john_doe",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/UserResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "User not found"
          },
          "429": {
            "description": "Too many requests (rate limited)"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get user following",
        "tags": [
          "Follow"
        ]
      }
    },
    "/chat/conversations": {
      "post": {
        "description": "Create a direct or group conversation. For direct messages, if conversation already exists, returns existing conversation.",
        "operationId": "ChatController_createConversation",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConversationDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Conversation created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input or direct conversation must have exactly 2 participants"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Creator or participants not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Create a new conversation",
        "tags": [
          "Chat"
        ]
      },
      "get": {
        "description": "Retrieve paginated list of conversations for the authenticated user, ordered by last message timestamp.",
        "operationId": "ChatController_getUserConversations",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 50, max: 100)",
            "schema": {
              "example": 50,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ConversationResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get user conversations",
        "tags": [
          "Chat"
        ]
      }
    },
    "/chat/conversations/{id}": {
      "get": {
        "description": "Retrieve details of a specific conversation including participants.",
        "operationId": "ChatController_getConversation",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Conversation UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Conversation retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Conversation not found or access denied"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get conversation details",
        "tags": [
          "Chat"
        ]
      },
      "patch": {
        "description": "Update conversation name, avatar, or notification settings. User must be a participant.",
        "operationId": "ChatController_updateConversation",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Conversation UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateConversationDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Conversation updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "User is not a participant of this conversation"
          },
          "404": {
            "description": "Conversation not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Update conversation",
        "tags": [
          "Chat"
        ]
      }
    },
    "/chat/conversations/{id}/participants": {
      "post": {
        "description": "Add new participants to a group conversation. Only conversation admins can add participants.",
        "operationId": "ChatController_addParticipants",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Conversation UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddParticipantsDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Participants added successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationResponseDto"
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "All users are already participants"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Only admins can add participants"
          },
          "404": {
            "description": "Conversation or users not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Add participants to conversation",
        "tags": [
          "Chat"
        ]
      }
    },
    "/chat/conversations/{id}/leave": {
      "delete": {
        "description": "Leave a conversation. User will no longer receive messages and will be marked as inactive participant.",
        "operationId": "ChatController_leaveConversation",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Conversation UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Left conversation successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Left conversation successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not a participant of this conversation"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Leave conversation",
        "tags": [
          "Chat"
        ]
      }
    },
    "/chat/conversations/{id}/messages": {
      "post": {
        "description": "Send a text or media message to a conversation. Supports file upload for media messages.",
        "operationId": "ChatController_sendMessage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Conversation UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "Message content (max 5000 chars)",
                    "example": "Hello, how are you?"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "TEXT",
                      "IMAGE",
                      "VIDEO",
                      "AUDIO",
                      "FILE",
                      "GIF"
                    ],
                    "description": "Message type",
                    "example": "TEXT"
                  },
                  "replyToId": {
                    "type": "string",
                    "description": "Message ID to reply to",
                    "example": "123e4567-e89b-12d3-a456-426614174001"
                  },
                  "media": {
                    "type": "string",
                    "description": "JSON string of media metadata"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "File to upload (image, video, audio, document)"
                  }
                },
                "required": [
                  "content"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Message sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file or file too large"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Not a participant of this conversation"
          },
          "404": {
            "description": "Conversation or reply message not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Send message",
        "tags": [
          "Chat"
        ]
      },
      "get": {
        "description": "Retrieve paginated messages from a conversation. Messages are automatically marked as read for the requesting user.",
        "operationId": "ChatController_getMessages",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Conversation UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 50, max: 100)",
            "schema": {
              "example": 50,
              "type": "number"
            }
          },
          {
            "name": "before",
            "required": false,
            "in": "query",
            "description": "ISO date string to get messages before this date (cursor-based pagination)",
            "schema": {
              "example": "2024-01-01T00:00:00.000Z",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/MessageResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Not a participant of this conversation"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get conversation messages",
        "tags": [
          "Chat"
        ]
      }
    },
    "/chat/messages/{id}": {
      "patch": {
        "description": "Edit message content. Only the sender can edit messages within 15 minutes of sending.",
        "operationId": "ChatController_editMessage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Message UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174001",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "New message content",
                    "example": "Updated message content"
                  }
                },
                "required": [
                  "content"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message edited successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Message is too old to edit"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "You can only edit your own messages"
          },
          "404": {
            "description": "Message not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Edit message",
        "tags": [
          "Chat"
        ]
      },
      "delete": {
        "description": "Delete a message. Can delete for everyone (if sender) or just for yourself.",
        "operationId": "ChatController_deleteMessage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Message UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174001",
              "type": "string"
            }
          },
          {
            "name": "forEveryone",
            "required": false,
            "in": "query",
            "description": "Delete for all participants (default: false)",
            "schema": {
              "example": false,
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Message deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Message deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "You can only delete your own messages"
          },
          "404": {
            "description": "Message not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Delete message",
        "tags": [
          "Chat"
        ]
      }
    },
    "/chat/messages/{id}/reactions": {
      "post": {
        "description": "Add an emoji reaction to a message. If reaction already exists, it will be removed (toggle behavior).",
        "operationId": "ChatController_addReaction",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Message UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174001",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emoji": {
                    "type": "string",
                    "description": "Emoji character",
                    "example": ""
                  }
                },
                "required": [
                  "emoji"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reaction added/removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "emoji": {
                          "type": "string",
                          "example": ""
                        },
                        "messageId": {
                          "type": "string",
                          "example": "123e4567-e89b-12d3-a456-426614174001"
                        },
                        "userId": {
                          "type": "string",
                          "example": "123e4567-e89b-12d3-a456-426614174002"
                        },
                        "reactedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-01-01T00:00:00.000Z"
                        }
                      }
                    },
                    {
                      "type": "null",
                      "description": "Reaction removed (returns null)"
                    }
                  ]
                }
              }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Not a participant of this conversation"
          },
          "404": {
            "description": "Message not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Add/remove reaction to message",
        "tags": [
          "Chat"
        ]
      },
      "get": {
        "description": "Get all reactions for a specific message, grouped by emoji.",
        "operationId": "ChatController_getMessageReactions",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Message UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174001",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reactions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reactions": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "username": {
                              "type": "string"
                            },
                            "avatar": {
                              "type": "string",
                              "nullable": true
                            }
                          }
                        }
                      },
                      "example": {
                        "": [
                          {
                            "id": "123e4567-e89b-12d3-a456-426614174002",
                            "username": "john_doe",
                            "avatar": "https://example.com/avatar.jpg"
                          },
                          {
                            "id": "123e4567-e89b-12d3-a456-426614174003",
                            "username": "jane_doe",
                            "avatar": "https://example.com/avatar2.jpg"
                          }
                        ],
                        "": [
                          {
                            "id": "123e4567-e89b-12d3-a456-426614174004",
                            "username": "bob_smith",
                            "avatar": null
                          }
                        ]
                      }
                    },
                    "totalReactions": {
                      "type": "number",
                      "example": 3
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Not a participant of this conversation"
          },
          "404": {
            "description": "Message not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get message reactions",
        "tags": [
          "Chat"
        ]
      }
    },
    "/chat/conversations/{id}/read": {
      "post": {
        "description": "Mark specific messages as read for the authenticated user. Updates unread count for the conversation.",
        "operationId": "ChatController_markAsRead",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Conversation UUID",
            "schema": {
              "example": "123e4567-e89b-12d3-a456-426614174000",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "messageIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Array of message IDs to mark as read",
                    "example": [
                      "123e4567-e89b-12d3-a456-426614174001",
                      "123e4567-e89b-12d3-a456-426614174002"
                    ]
                  }
                },
                "required": [
                  "messageIds"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Messages marked as read",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Messages marked as read"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Not a participant of this conversation"
          },
          "404": {
            "description": "Conversation not found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Mark messages as read",
        "tags": [
          "Chat"
        ]
      }
    },
    "/search": {
      "get": {
        "description": "Perform a comprehensive search across the platform. Supports filtering by type, timeframe, and sorting options.\n    \n    Search Types:\n    - **users**: Search for users by username, name, or bio\n    - **posts**: Search for posts by content or hashtags\n    - **hashtags**: Search for hashtags\n    - **combined**: Search all types (default)\n    \n    Minimum query length: 2 characters",
        "operationId": "SearchController_search",
        "parameters": [
          {
            "name": "q",
            "required": true,
            "in": "query",
            "description": "Search query (minimum 2 characters)",
            "schema": {
              "example": "typescript",
              "type": "string"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "Type of content to search (default: combined)",
            "schema": {
              "enum": [
                "users",
                "posts",
                "hashtags",
                "combined"
              ],
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of results per category (default: 20, max: 50)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of results to skip (for pagination)",
            "schema": {
              "example": 0,
              "type": "number"
            }
          },
          {
            "name": "timeframe",
            "required": false,
            "in": "query",
            "description": "Time window for results (default: all)",
            "schema": {
              "enum": [
                "day",
                "week",
                "month",
                "all"
              ],
              "type": "string"
            }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sorting method (default: relevance)",
            "schema": {
              "enum": [
                "relevance",
                "popularity",
                "recent"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Search results retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "users": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/UserResponseDto"
                      },
                      "description": "Matched users"
                    },
                    "posts": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/PostResponseDto"
                      },
                      "description": "Matched posts"
                    },
                    "hashtags": {
                      "type": "array",
                      "description": "Matched hashtags"
                    },
                    "total": {
                      "type": "number",
                      "description": "Total number of results across all categories",
                      "example": 45
                    },
                    "filters": {
                      "type": "object",
                      "description": "Applied search filters",
                      "properties": {
                        "query": {
                          "type": "string",
                          "example": "typescript"
                        },
                        "type": {
                          "type": "string",
                          "example": "combined"
                        },
                        "limit": {
                          "type": "number",
                          "example": 20
                        },
                        "offset": {
                          "type": "number",
                          "example": 0
                        },
                        "timeframe": {
                          "type": "string",
                          "example": "all"
                        },
                        "sortBy": {
                          "type": "string",
                          "example": "relevance"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Query too short (minimum 2 characters required)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "users": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      },
                      "example": []
                    },
                    "posts": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      },
                      "example": []
                    },
                    "hashtags": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      },
                      "example": []
                    },
                    "total": {
                      "type": "number",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "Query must be at least 2 characters long"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Unified search across users, posts, and hashtags",
        "tags": [
          "Search"
        ]
      }
    },
    "/search/suggestions": {
      "get": {
        "description": "Get real-time search suggestions as users type. Returns matching users, hashtags, and popular queries.",
        "operationId": "SearchController_getSuggestions",
        "parameters": [
          {
            "name": "q",
            "required": true,
            "in": "query",
            "description": "Search query for suggestions (minimum 2 characters)",
            "schema": {
              "example": "typesc",
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Maximum number of suggestions per category (default: 10, max: 20)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Search suggestions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "users": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/UserResponseDto"
                      },
                      "description": "Suggested users"
                    },
                    "hashtags": {
                      "type": "array",
                      "description": "Suggested hashtags"
                    },
                    "popularQueries": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Popular search queries related to the input",
                      "example": [
                        "#typescript",
                        "@typescript",
                        "typescript tips",
                        "typescript tutorial"
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Query too short (minimum 2 characters required)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "users": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      },
                      "example": []
                    },
                    "hashtags": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      },
                      "example": []
                    },
                    "popularQueries": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": []
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get search suggestions",
        "tags": [
          "Search"
        ]
      }
    },
    "/search/trending": {
      "get": {
        "description": "Get currently trending search queries across the platform",
        "operationId": "SearchController_getTrendingSearches",
        "parameters": [
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of trending searches to return (default: 10, max: 50)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Trending searches retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "trendingSearches": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "List of trending search queries",
                      "example": [
                        "#javascript",
                        "#react",
                        "@typescript",
                        "web development",
                        "AI"
                      ]
                    },
                    "updatedAt": {
                      "type": "string",
                      "format": "date-time",
                      "description": "Last update timestamp",
                      "example": "2024-01-01T12:00:00.000Z"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get trending searches",
        "tags": [
          "Search"
        ]
      }
    },
    "/search/discover/trending-posts": {
      "get": {
        "description": "Discover trending posts based on engagement within a specific timeframe",
        "operationId": "SearchController_getTrendingPosts",
        "parameters": [
          {
            "name": "timeframe",
            "required": false,
            "in": "query",
            "description": "Time period for trending calculation (default: day)",
            "schema": {
              "enum": [
                "day",
                "week"
              ],
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of posts to return (default: 20, max: 100)",
            "schema": {
              "example": 20,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/PaginatedResponseDto"
                    },
                    {
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostResponseDto"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get trending posts for discovery",
        "tags": [
          "Search"
        ]
      }
    },
    "/search/discover/user-recommendations": {
      "get": {
        "description": "Discover new users to follow based on mutual connections and interests",
        "operationId": "SearchController_getUserRecommendations",
        "parameters": [
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of recommendations to return (default: 10, max: 20)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User recommendations retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "recommendations": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/UserResponseDto"
                      },
                      "description": "Recommended users to follow"
                    },
                    "reason": {
                      "type": "string",
                      "description": "Reason for recommendations",
                      "example": "Based on mutual connections and interests"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get user recommendations",
        "tags": [
          "Search"
        ]
      }
    },
    "/search/discover/hashtag-recommendations": {
      "get": {
        "description": "Discover popular and trending hashtags",
        "operationId": "SearchController_getHashtagRecommendations",
        "parameters": [
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of recommendations to return (default: 10, max: 20)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Hashtag recommendations retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "recommendations": {
                      "type": "array",
                      "description": "Recommended hashtags to explore"
                    },
                    "reason": {
                      "type": "string",
                      "description": "Reason for recommendations",
                      "example": "Based on current trends and your interests"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get hashtag recommendations",
        "tags": [
          "Search"
        ]
      }
    },
    "/search/discover/who-to-follow": {
      "get": {
        "description": "Get personalized suggestions for users to follow",
        "operationId": "SearchController_getWhoToFollow",
        "parameters": [
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of suggestions to return (default: 10, max: 20)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Follow suggestions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "suggestions": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/UserResponseDto"
                      },
                      "description": "Suggested users to follow"
                    },
                    "criteria": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Criteria used for suggestions",
                      "example": [
                        "Mutual connections",
                        "Similar interests",
                        "Popular in your network"
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "access_token": []
          }
        ],
        "summary": "Get \"Who to follow\" suggestions",
        "tags": [
          "Search"
        ]
      }
    },
    "/admin/dashboard": {
      "get": {
        "operationId": "AdminController_getDashboard",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      }
    },
    "/admin/stats/daily": {
      "get": {
        "operationId": "AdminController_getDailyStats",
        "parameters": [
          {
            "name": "days",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      }
    },
    "/admin/users": {
      "get": {
        "operationId": "AdminController_getAllUsers",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      }
    },
    "/admin/users/{id}": {
      "get": {
        "operationId": "AdminController_getUserDetails",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      }
    },
    "/admin/users/{id}/ban": {
      "post": {
        "operationId": "AdminController_banUser",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      }
    },
    "/admin/users/{id}/unban": {
      "post": {
        "operationId": "AdminController_unbanUser",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      }
    },
    "/admin/users/{id}/role": {
      "patch": {
        "operationId": "AdminController_updateUserRole",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      }
    },
    "/admin/posts": {
      "get": {
        "operationId": "AdminController_getAllPosts",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      }
    },
    "/admin/posts/{id}": {
      "get": {
        "operationId": "AdminController_getPostDetails",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      },
      "delete": {
        "operationId": "AdminController_deletePost",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      }
    },
    "/admin/posts/{id}/restore": {
      "post": {
        "operationId": "AdminController_restorePost",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      }
    },
    "/admin/audit-logs": {
      "get": {
        "operationId": "AdminController_getAuditLogs",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      }
    },
    "/admin/health": {
      "get": {
        "operationId": "AdminController_getSystemHealth",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "Internal server error"
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "2024-01-01T00:00:00.000Z"
                    },
                    "path": {
                      "type": "string",
                      "example": "/auth/login"
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Admin"
        ]
      }
    }
  },
  "info": {
    "title": "Echo Social Media API",
    "description": "# Echo Backend API Documentation\n\n## Overview\nEcho is a robust social media backend that can be wired to any frontend. It handles authentication, user management, posts, and social interactions.\n\n## Authentication\nThis API uses **cookie-based authentication** with two tokens:\n1. **Access Token** (15 minutes expiry) - Sent as HttpOnly cookie\n2. **Refresh Token** (7 days expiry) - Sent as HttpOnly cookie\n\n## Features\n- JWT-based authentication with refresh tokens\n- Email verification\n- Password reset functionality\n- Rate limiting on sensitive endpoints\n- Comprehensive audit logging\n- User profile management\n\n## Getting Started\n1. Register a new user at `/auth/signup`\n2. Login at `/auth/login` to get authentication cookies\n3. Use protected endpoints with automatic cookie sending\n\n## Rate Limits\n- Login: 3 attempts per 10 minutes\n- Other endpoints may have specific rate limits\n\n## Security\n- All passwords are hashed with Argon2\n- Email enumeration protection\n- HttpOnly cookies for token storage\n- CSRF protection via SameSite cookies\n- Helmet.js security headers\n\n## User Management Features\n\n### Profile Management\n- **Get Profile**: Retrieve current user profile or other users' profiles\n- **Update Profile**: Update user information including avatar upload\n- **Delete Account**: Schedule account deletion with 30-day retention\n\n### Profile Features\n- **Avatar Support**: Upload and manage profile pictures\n- **Bio & Metadata**: Customize profile with biography, location, and website\n- **Following System**: Track followers and following counts\n- **Engagement Metrics**: View post counts and user activity\n\n### Security Features\n- **JWT Authentication**: Secure token-based authentication\n- **Rate Limiting**: Protection against abuse\n- **Audit Logging**: Track all user actions\n- **Data Validation**: Comprehensive input validation\n\n### File Upload Specifications\n- **Avatar Images**: JPG, JPEG, PNG, GIF formats\n- **Size Limit**: 5MB per file\n- **Automatic Optimization**: Images are automatically optimized and resized\n- **Cloud Storage**: Secure cloud storage with CDN delivery\n\n### Follow System\n- **Follow/Unfollow**: Toggle follow status for users\n- **Follower Lists**: View who follows a user\n- **Following Lists**: View who a user follows\n- **Mutual Connections**: Discover shared connections\n\n### Engagement Features\n- **Real-time Updates**: Follow actions trigger notifications\n- **Social Graph**: Build and explore user connections\n- **Network Discovery**: Find new users through existing connections\n\n### Rate Limits\n- **Follow Actions**: Standard rate limits apply\n- **List Views**: 100 requests per minute for follower/following lists\n\nFor more information, visit [GitHub Repository](https://github.com/Petergrac/echo-backend)\n      ",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "Development server"
    },
    {
      "url": "https://api.echo-app.com",
      "description": "Production server"
    }
  ],
  "components": {
    "schemas": {
      "CreateUserDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "User email address",
            "example": "user@example.com"
          },
          "username": {
            "type": "string",
            "minLength": 3,
            "pattern": "/^[a-zA-Z0-9_-]+$/",
            "description": "Username (letters, numbers, underscore and hyphen only)",
            "example": "john_doe123"
          },
          "firstName": {
            "type": "string",
            "minLength": 3,
            "description": "First name",
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "minLength": 3,
            "description": "Last name",
            "example": "Doe"
          },
          "location": {
            "type": "string",
            "description": "User location",
            "example": "New York, USA"
          },
          "bio": {
            "type": "string",
            "description": "Short biography",
            "example": "Software developer passionate about open source"
          },
          "website": {
            "type": "string",
            "format": "uri",
            "description": "Personal website URL",
            "example": "https://john.doe.com"
          },
          "password": {
            "type": "string",
            "minLength": 8,
            "pattern": "/((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*/",
            "description": "Password (must contain uppercase, lowercase, and number/special char)",
            "example": "Password123!"
          }
        },
        "required": [
          "email",
          "username",
          "firstName",
          "lastName",
          "password"
        ]
      },
      "LoginDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email address for login",
            "example": "user@example.com"
          },
          "username": {
            "type": "string",
            "description": "Username for login",
            "example": "john_doe123"
          },
          "password": {
            "type": "string",
            "description": "Password",
            "example": "Password123!"
          }
        },
        "required": [
          "password"
        ]
      },
      "RequestPasswordResetDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email address for password reset",
            "example": "user@example.com"
          }
        },
        "required": [
          "email"
        ]
      },
      "ResetPasswordDto": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "description": "Password reset token (can also be provided via query parameter)",
            "example": "abc123def456"
          },
          "newPassword": {
            "type": "string",
            "minLength": 8,
            "pattern": "/((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*/",
            "description": "New password (must contain uppercase, lowercase, and number/special char)",
            "example": "NewPassword123!"
          }
        },
        "required": [
          "newPassword"
        ]
      },
      "UserResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User ID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "email": {
            "type": "string",
            "description": "Email address",
            "example": "user@example.com"
          },
          "username": {
            "type": "string",
            "description": "Username",
            "example": "john_doe123"
          },
          "avatar": {
            "type": "string",
            "description": "Avatar URL",
            "example": "https://example.com/avatar.jpg"
          },
          "firstName": {
            "type": "string",
            "description": "First name",
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "description": "Last name",
            "example": "Doe"
          },
          "bio": {
            "type": "string",
            "description": "Short biography",
            "example": "Software developer"
          },
          "website": {
            "type": "string",
            "description": "Website URL",
            "example": "https://john.doe.com"
          },
          "location": {
            "type": "string",
            "description": "Location",
            "example": "New York, USA"
          },
          "emailVerified": {
            "type": "boolean",
            "description": "Email verification status",
            "example": true
          },
          "resourceType": {
            "type": "string",
            "description": "Resource type",
            "example": "user"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation date",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Last update date",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "followersCount": {
            "type": "number",
            "description": "Number of followers",
            "example": 150
          },
          "followingCount": {
            "type": "number",
            "description": "Number of followed users",
            "example": 75
          },
          "postCount": {
            "type": "number",
            "description": "Number of posts",
            "example": 42
          },
          "isFollowing": {
            "type": "boolean",
            "description": "Whether current user is following this user",
            "example": false
          }
        },
        "required": [
          "id",
          "email",
          "username",
          "avatar",
          "firstName",
          "lastName",
          "emailVerified",
          "resourceType",
          "createdAt",
          "updatedAt",
          "followersCount",
          "followingCount",
          "postCount",
          "isFollowing"
        ]
      },
      "MediaResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "mediaUrl": {
            "type": "string"
          },
          "resourceType": {
            "type": "object"
          },
          "publicId": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "postId": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "mediaUrl",
          "resourceType",
          "publicId"
        ]
      },
      "PostResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "visibility": {
            "type": "object"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "likeCount": {
            "type": "number"
          },
          "replyCount": {
            "type": "number"
          },
          "repostCount": {
            "type": "number"
          },
          "viewCount": {
            "type": "number"
          },
          "mediaCount": {
            "type": "number"
          },
          "author": {
            "$ref": "#/components/schemas/UserResponseDto"
          },
          "media": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MediaResponseDto"
            }
          },
          "hasLiked": {
            "type": "boolean"
          },
          "hasBookmarked": {
            "type": "boolean"
          },
          "hasReposted": {
            "type": "boolean"
          },
          "hasReplied": {
            "type": "boolean"
          },
          "repostContent": {
            "type": "string",
            "nullable": true
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "version": {
            "type": "number"
          },
          "authorId": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "content",
          "visibility",
          "createdAt",
          "likeCount",
          "replyCount",
          "repostCount",
          "viewCount",
          "mediaCount",
          "author",
          "media",
          "hasLiked",
          "hasBookmarked",
          "hasReposted",
          "hasReplied",
          "repostContent"
        ]
      },
      "ReplyResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "replyCount": {
            "type": "number"
          },
          "postId": {
            "type": "string"
          },
          "directDescendantsCount": {
            "type": "number"
          },
          "parentReplyId": {
            "type": "string",
            "nullable": true
          },
          "author": {
            "$ref": "#/components/schemas/UserResponseDto"
          },
          "post": {
            "$ref": "#/components/schemas/PostResponseDto"
          },
          "media": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MediaResponseDto"
            }
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "nullable": true
          },
          "version": {
            "type": "number"
          },
          "authorId": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "content",
          "createdAt",
          "replyCount",
          "postId",
          "directDescendantsCount",
          "parentReplyId",
          "author",
          "media"
        ]
      },
      "CreateRepostDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "maxLength": 280,
            "description": "Additional commentary for the repost (max 280 characters)",
            "example": "This is amazing!"
          }
        }
      },
      "NotificationActorDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User ID"
          },
          "username": {
            "type": "string",
            "description": "Username"
          },
          "firstName": {
            "type": "string",
            "description": "Display name"
          },
          "avatar": {
            "type": "string",
            "description": "Profile picture"
          }
        },
        "required": [
          "id",
          "username",
          "firstName",
          "avatar"
        ]
      },
      "NotificationResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Notification ID"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "When notification was created"
          },
          "type": {
            "type": "string",
            "enum": [
              "LIKE",
              "REPLY",
              "REPOST",
              "FOLLOW",
              "MENTION",
              "SYSTEM"
            ]
          },
          "actor": {
            "$ref": "#/components/schemas/NotificationActorDto"
          },
          "postId": {
            "type": "string",
            "description": "Post ID (click to view)"
          },
          "replyId": {
            "type": "string",
            "description": "Reply ID (click to view)"
          },
          "read": {
            "type": "boolean",
            "description": "Has the user read this notification"
          }
        },
        "required": [
          "id",
          "createdAt",
          "type",
          "actor",
          "read"
        ]
      },
      "NotificationPreferencesResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Preferences ID"
          },
          "userId": {
            "type": "string",
            "description": "User ID"
          },
          "likes": {
            "type": "boolean",
            "description": "Receive like notifications"
          },
          "posts": {
            "type": "boolean",
            "description": "Receive post notifications"
          },
          "replies": {
            "type": "boolean",
            "description": "Receive reply notifications"
          },
          "reposts": {
            "type": "boolean",
            "description": "Receive repost notifications"
          },
          "follows": {
            "type": "boolean",
            "description": "Receive follow notifications"
          },
          "mentions": {
            "type": "boolean",
            "description": "Receive mention notifications"
          },
          "system": {
            "type": "boolean",
            "description": "Receive system notifications"
          },
          "emailDigest": {
            "type": "boolean",
            "description": "Receive email digest"
          },
          "emailSystem": {
            "type": "boolean",
            "description": "Email for system notifications"
          },
          "pushLikes": {
            "type": "boolean",
            "description": "Push notifications enabled"
          },
          "pushReplies": {
            "type": "boolean",
            "description": "Push notifications for replies"
          },
          "pushReposts": {
            "type": "boolean",
            "description": "Push notifications for reposts"
          },
          "pushFollows": {
            "type": "boolean",
            "description": "Push notifications for follows"
          },
          "pushMentions": {
            "type": "boolean",
            "description": "Push notifications for mentions"
          },
          "pushSystem": {
            "type": "boolean",
            "description": "Push notifications for system"
          },
          "soundEnabled": {
            "type": "boolean",
            "description": "Enable notification sounds"
          },
          "vibrationEnabled": {
            "type": "boolean",
            "description": "Enable vibration"
          },
          "deliveryTiming": {
            "type": "string",
            "description": "Delivery timing",
            "enum": [
              "immediate",
              "off",
              "scheduled"
            ]
          },
          "mutedUsers": {
            "description": "List of muted user IDs",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "mutedKeywords": {
            "description": "List of muted keywords",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "id",
          "userId",
          "likes",
          "posts",
          "replies",
          "reposts",
          "follows",
          "mentions",
          "system",
          "emailDigest",
          "emailSystem",
          "pushLikes",
          "pushReplies",
          "pushReposts",
          "pushFollows",
          "pushMentions",
          "pushSystem",
          "soundEnabled",
          "vibrationEnabled",
          "deliveryTiming",
          "mutedUsers",
          "mutedKeywords"
        ]
      },
      "UpdatePreferencesDto": {
        "type": "object",
        "properties": {
          "likes": {
            "type": "boolean",
            "description": "Enable/disable like notifications",
            "example": true
          },
          "replies": {
            "type": "boolean",
            "description": "Enable/disable reply notifications",
            "example": true
          },
          "reposts": {
            "type": "boolean",
            "description": "Enable/disable repost notifications",
            "example": true
          },
          "follows": {
            "type": "boolean",
            "description": "Enable/disable follow notifications",
            "example": true
          },
          "mentions": {
            "type": "boolean",
            "description": "Enable/disable mention notifications",
            "example": true
          },
          "system": {
            "type": "boolean",
            "description": "Enable/disable system notifications",
            "example": true
          },
          "emailLikes": {
            "type": "boolean",
            "description": "Enable/disable email notifications for likes",
            "example": false
          },
          "emailReplies": {
            "type": "boolean",
            "description": "Enable/disable email notifications for replies",
            "example": false
          },
          "emailReposts": {
            "type": "boolean",
            "description": "Enable/disable email notifications for reposts",
            "example": false
          },
          "emailFollows": {
            "type": "boolean",
            "description": "Enable/disable email notifications for follows",
            "example": false
          },
          "emailMentions": {
            "type": "boolean",
            "description": "Enable/disable email notifications for mentions",
            "example": false
          },
          "emailSystem": {
            "type": "boolean",
            "description": "Enable/disable email notifications for system messages",
            "example": true
          },
          "emailDigest": {
            "type": "boolean",
            "description": "Enable/disable email digest",
            "example": true
          },
          "pushLikes": {
            "type": "boolean",
            "description": "Enable/disable push notifications for likes",
            "example": true
          },
          "pushReplies": {
            "type": "boolean",
            "description": "Enable/disable push notifications for replies",
            "example": true
          },
          "pushReposts": {
            "type": "boolean",
            "description": "Enable/disable push notifications for reposts",
            "example": true
          },
          "pushFollows": {
            "type": "boolean",
            "description": "Enable/disable push notifications for follows",
            "example": true
          },
          "pushMentions": {
            "type": "boolean",
            "description": "Enable/disable push notifications for mentions",
            "example": true
          },
          "pushSystem": {
            "type": "boolean",
            "description": "Enable/disable push notifications for system messages",
            "example": true
          },
          "soundEnabled": {
            "type": "boolean",
            "description": "Enable/disable notification sounds",
            "example": true
          },
          "vibrationEnabled": {
            "type": "boolean",
            "description": "Enable/disable notification vibration",
            "example": true
          },
          "deliveryTiming": {
            "type": "string",
            "description": "Notification delivery timing",
            "enum": [
              "immediate",
              "digest",
              "scheduled"
            ],
            "example": "immediate"
          },
          "mutedUsers": {
            "description": "List of muted user IDs or usernames",
            "example": [
              "john_doe",
              "jane_doe"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "mutedKeywords": {
            "description": "List of muted keywords",
            "example": [
              "spam",
              "promotion"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "MuteUserDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "User ID to mute/unmute",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "mute": {
            "type": "boolean",
            "description": "True to mute, false to unmute",
            "example": true
          }
        },
        "required": [
          "userId",
          "mute"
        ]
      },
      "MuteKeywordDto": {
        "type": "object",
        "properties": {
          "keyword": {
            "type": "string",
            "description": "Keyword to mute/unmute",
            "example": "spam"
          },
          "mute": {
            "type": "boolean",
            "description": "True to mute, false to unmute",
            "example": true
          }
        },
        "required": [
          "keyword",
          "mute"
        ]
      },
      "CreateConversationDto": {
        "type": "object",
        "properties": {
          "type": {
            "enum": [
              "direct",
              "group"
            ],
            "type": "string",
            "description": "Type of conversation",
            "example": "direct"
          },
          "participantIds": {
            "minItems": 1,
            "maxItems": 50,
            "description": "Array of participant user IDs (excluding creator)",
            "example": [
              "123e4567-e89b-12d3-a456-426614174001"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "name": {
            "type": "string",
            "description": "Conversation name (required for group chats)",
            "example": "Team Chat"
          },
          "avatar": {
            "type": "string",
            "description": "Group avatar URL",
            "example": "https://example.com/avatar.jpg"
          }
        },
        "required": [
          "type",
          "participantIds"
        ]
      },
      "UserDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "avatar": {
            "type": "string"
          },
          "bio": {
            "type": "string"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "username",
          "firstName"
        ]
      },
      "ParticipantDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "isActive": {
            "type": "boolean"
          },
          "isAdmin": {
            "type": "boolean"
          },
          "joinedAt": {
            "format": "date-time",
            "type": "string"
          },
          "unreadCount": {
            "type": "number"
          },
          "notificationsEnabled": {
            "type": "boolean"
          },
          "user": {
            "$ref": "#/components/schemas/UserDto"
          }
        },
        "required": [
          "id",
          "userId",
          "isActive",
          "isAdmin",
          "notificationsEnabled",
          "user"
        ]
      },
      "ConversationResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "enum": [
              "direct",
              "group"
            ],
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "avatar": {
            "type": "string"
          },
          "messageCount": {
            "type": "number"
          },
          "unreadCount": {
            "type": "number"
          },
          "lastMessageAt": {
            "format": "date-time",
            "type": "string"
          },
          "lastMessageId": {
            "type": "string"
          },
          "metadata": {
            "type": "object"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          },
          "participants": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ParticipantDto"
            }
          },
          "createdBy": {
            "$ref": "#/components/schemas/UserDto"
          }
        },
        "required": [
          "id",
          "type",
          "messageCount",
          "createdAt",
          "updatedAt",
          "participants",
          "createdBy"
        ]
      },
      "UpdateConversationDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "New conversation name",
            "example": "Updated Group Name"
          },
          "avatar": {
            "type": "string",
            "description": "New conversation avatar URL",
            "example": "https://example.com/new-avatar.jpg"
          },
          "notificationsEnabled": {
            "type": "boolean",
            "description": "Enable/disable notifications for this conversation",
            "example": true
          }
        }
      },
      "AddParticipantsDto": {
        "type": "object",
        "properties": {
          "participantIds": {
            "minItems": 1,
            "maxItems": 20,
            "description": "Array of user IDs to add to conversation",
            "example": [
              "123e4567-e89b-12d3-a456-426614174002",
              "123e4567-e89b-12d3-a456-426614174003"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "participantIds"
        ]
      },
      "ReactionDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "emoji": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "reactedAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "emoji",
          "userId",
          "reactedAt"
        ]
      },
      "ReadReceiptDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "readAt": {
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "userId",
          "readAt"
        ]
      },
      "MessageResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "type": {
            "enum": [
              "text",
              "image",
              "video",
              "audio",
              "file",
              "system"
            ],
            "type": "string"
          },
          "status": {
            "enum": [
              "sent",
              "delivered",
              "read",
              "failed"
            ],
            "type": "string"
          },
          "conversationId": {
            "type": "string"
          },
          "sender": {
            "$ref": "#/components/schemas/UserDto"
          },
          "replyTo": {
            "$ref": "#/components/schemas/UserDto"
          },
          "media": {
            "type": "string"
          },
          "reactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReactionDto"
            }
          },
          "readReceipts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReadReceiptDto"
            }
          },
          "metadata": {
            "type": "object"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string"
          },
          "deletedForUserAt": {
            "format": "date-time",
            "type": "string"
          },
          "deletedForUserId": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "content",
          "type",
          "status",
          "conversationId",
          "sender",
          "reactions",
          "readReceipts",
          "createdAt",
          "updatedAt"
        ]
      }
    }
  }
}