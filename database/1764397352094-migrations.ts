import { MigrationInterface, QueryRunner } from "typeorm";

export class Migrations1764397352094 implements MigrationInterface {
    name = 'Migrations1764397352094'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP CONSTRAINT "FK_0a5e6c81093655b770eabd04600"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP CONSTRAINT "FK_610102b60fea1455310ccd299de"`);
        await queryRunner.query(`ALTER TABLE "like" DROP CONSTRAINT "FK_3acf7c55c319c4000e8056c1279"`);
        await queryRunner.query(`ALTER TABLE "like" DROP CONSTRAINT "FK_e8fb739f08d47955a39850fac23"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP CONSTRAINT "FK_e389fc192c59bdce0847ef9ef8b"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP CONSTRAINT "FK_ee4a9b84b65399f9a6581d9a9a5"`);
        await queryRunner.query(`ALTER TABLE "media" DROP CONSTRAINT "FK_d9e592b7c68d3aab7582e28a06a"`);
        await queryRunner.query(`ALTER TABLE "media" DROP CONSTRAINT "FK_9dcde1b1308b5f22f34b8454e28"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP CONSTRAINT "FK_d2f967c23ec5174f12c53ee6712"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP CONSTRAINT "FK_16a2deee0d7ea361950eed1b944"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP CONSTRAINT "FK_ff19b87c8b552823b87abf5c7af"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP CONSTRAINT "FK_6e47473e7777212acf0f1f10e66"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP CONSTRAINT "FK_f0af68fe0e599c7cc7f34699ad5"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP CONSTRAINT "FK_9c7aa85b4b2be67c1b7235d03fe"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP CONSTRAINT "FK_650bb493bc96cdc1c6a95d50ccd"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP CONSTRAINT "FK_d485b70d5447a47d8ebcb815920"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP CONSTRAINT "FK_1398d4509dfe620c68724aeff30"`);
        await queryRunner.query(`ALTER TABLE "post" DROP CONSTRAINT "FK_c6fb082a3114f35d0cc27c518e0"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP CONSTRAINT "FK_ef463dd9a2ce0d673350e36e0fb"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP CONSTRAINT "FK_fdb91868b03a2040db408a53331"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP CONSTRAINT "FK_d104e7757e67c546db1bf4245d5"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP CONSTRAINT "FK_c7dc378ca2844fdfe647e00e993"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP CONSTRAINT "FK_c5133a026bd1b3d9feccac1a234"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP CONSTRAINT "FK_ab7cbe7a013ecac5da0a8f88884"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP CONSTRAINT "FK_dd90174e375c888d7f431cf829e"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP CONSTRAINT "FK_b1a75fd6cdb0ab0a82c5b01c34f"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP CONSTRAINT "FK_c681529d2e6afa4aed28ef53b08"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP CONSTRAINT "FK_19823ab5b50fca62c6cd34f63b3"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP CONSTRAINT "FK_bd541f78e314e4338e426193e97"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP CONSTRAINT "FK_2773f1753769d807ebbd2aa11df"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP CONSTRAINT "FK_4418b4dacb57158842838039f30"`);
        await queryRunner.query(`ALTER TABLE "message" DROP CONSTRAINT "FK_dc84d76f927b87f616cbedcf2e5"`);
        await queryRunner.query(`ALTER TABLE "message" DROP CONSTRAINT "FK_bc096b4e18b1f9508197cd98066"`);
        await queryRunner.query(`ALTER TABLE "message" DROP CONSTRAINT "FK_7cf4a4df1f2627f72bf6231635f"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_ca9645f823ed33ad823063b35b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_78a9f4a1b09b6d2bf7ed85f252"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_b6aae0d8a415c27308fe51c837"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_9e9632e3b6afa29ac5bb84a5d5"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_ad94e8d3b6b2525d4980f960cd"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f997b5003d8b22a0ec0902e55c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_81e9616cb4c5c0f18ec277950b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_2ae88db6d7f193e004ee1d9794"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_c5a573b830502bf341d9ec9803"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_5c73da33047a8e7f862fbd65c9"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_07a8923e0c3543fb9c6bc2e35c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_251105b046faae0f8740ab39cb"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_fc550e52604301a6fcc23183e9"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_fb91bea2d37140a877b775e6b2"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_333b5b35488ffbf401d0728b46"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_746b493e181b364e6ceb0df539"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_34cb743d36153e131fa42581b9"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_5cf45176a1608ebdacc516a58c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_9e507a3c8bb9b3e3c53e22d3f2"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_797b4961f6bdf7bada4624b1bc"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_b282116c9f066598e94366f085"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_386104d4a04619e31c992c9f0f"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_c1d81dc27ccbf6a262de6b475e"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_43d456f71ba20d9bf7af75fd58"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_8051177e63e114cb9e78db7f0b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_e330398c18c7d9696967901f16"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP CONSTRAINT "UQ_105079775692df1f8799ed0fac8"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP CONSTRAINT "UQ_497b032725751e1aad8a85832a7"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP CONSTRAINT "UQ_37402a50d69deae8474db6ba6eb"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP CONSTRAINT "UQ_c871c8d2853d134cdde46be8d38"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP COLUMN "expiresAt"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP COLUMN "tokenHash"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "expiresAt"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "lastUsedAt"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "tokenId"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "hashedToken"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "userAgent"`);
        await queryRunner.query(`ALTER TABLE "like" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "like" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "like" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "like" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "like" DROP COLUMN "postId"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP COLUMN "postId"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "postId"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "replyId"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "publicId"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "mediaUrl"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "resourceType"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "postId"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "replyId"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "mentionedUserId"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "authorId"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "postId"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "authorId"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "replyCount"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "parentReplyId"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP COLUMN "originalPostId"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "usageCount"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "postCount"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "trendScore"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "lastUsedAt"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "authorId"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "likeCount"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "replyCount"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "repostCount"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "viewCount"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "mediaCount"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "pushMentions"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "pushSystem"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "soundEnabled"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "vibrationEnabled"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "mutedUsers"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "mutedKeywords"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "emailLikes"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "emailReplies"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "emailReposts"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "emailFollows"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "emailMentions"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "emailSystem"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "emailDigest"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "pushLikes"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "pushReplies"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "pushReposts"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "pushFollows"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "deliveryTiming"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "emailVerified"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "resourceType"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "passwordHash"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "firstName"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "avatarPublicId"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "lastName"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP COLUMN "followingId"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP COLUMN "followerId"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "postId"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "replyId"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "recipientId"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "actorId"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "conversationId"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "isActive"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "isAdmin"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "joinedAt"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "leftAt"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "lastReadAt"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "unreadCount"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "notificationsEnabled"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "createdById"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "messageCount"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "unreadCount"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "lastMessageAt"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "avatarPublicId"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "lastMessageId"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP COLUMN "messageId"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP COLUMN "readAt"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP COLUMN "reactedAt"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP COLUMN "messageId"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "conversationId"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "senderId"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "replyToId"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "deletedForUserAt"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "deletedForUserId"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "createdAt"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "updatedAt"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "deletedAt"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "riskEvent"`);
        await queryRunner.query(`DROP TYPE "public"."audit_logs_riskevent_enum"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "userId"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "userAgent"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD "token_hash" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD "expires_at" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD "user_id" uuid`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "token_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "hashed_token" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "expires_at" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "last_used_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "user_agent" character varying`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "user_id" uuid`);
        await queryRunner.query(`ALTER TABLE "like" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "like" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "like" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "like" ADD "user_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "like" ADD "post_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD "user_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD "post_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "media" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "media" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "media" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "media" ADD "public_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "media" ADD "media_url" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "media" ADD "resource_type" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "media" ADD "post_id" uuid`);
        await queryRunner.query(`ALTER TABLE "media" ADD "reply_id" uuid`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "post_id" uuid`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "reply_id" uuid`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "mentioned_user_id" uuid`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "author_id" uuid`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "post_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "author_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "reply_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "parent_reply_id" uuid`);
        await queryRunner.query(`ALTER TABLE "repost" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "repost" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "repost" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "repost" ADD "user_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "repost" ADD "original_post_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "usage_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "post_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "trend_score" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "last_used_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD "post_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "PK_99f5561c426fbd758425ed3be58"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "PK_f2e002d752f6d70bf3fadf42da0" PRIMARY KEY ("id", "postId", "hashtagId", "post_id")`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD "hashtag_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "PK_f2e002d752f6d70bf3fadf42da0"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "PK_aa3b4bbf226b9573fb3de6a99be" PRIMARY KEY ("id", "postId", "hashtagId", "post_id", "hashtag_id")`);
        await queryRunner.query(`ALTER TABLE "post" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "post" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "post" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "post" ADD "author_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "post" ADD "like_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "post" ADD "reply_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "post" ADD "repost_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "post" ADD "view_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "post" ADD "media_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "user_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "email_likes" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "email_replies" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "email_reposts" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "email_follows" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "email_mentions" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "email_system" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "email_digest" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "push_likes" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "push_replies" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "push_reposts" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "push_follows" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "push_mentions" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "push_system" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "sound_enabled" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "vibration_enabled" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "delivery_timing" character varying NOT NULL DEFAULT 'immediate'`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "muted_users" jsonb NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "muted_keywords" jsonb NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "users" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "users" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "users" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "users" ADD "first_name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "avatar_public_id" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "last_name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "resource_type" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "password_hash" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "email_verified" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "follows" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "follows" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "follows" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "follows" ADD "following_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "follows" ADD "follower_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "post_id" uuid`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "reply_id" uuid`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "recipient_id" uuid`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "actor_id" uuid`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "conversation_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "user_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "is_admin" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "joined_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "left_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "last_read_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "unread_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "notifications_enabled" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "avatar_public_id" character varying`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "created_by_id" uuid`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "message_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "unread_count" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "last_message_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "last_message_id" character varying`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD "message_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD "user_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD "read_at" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD "message_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD "user_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD "reacted_at" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "message" ADD "conversation_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message" ADD "sender_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message" ADD "reply_to_id" uuid`);
        await queryRunner.query(`ALTER TABLE "message" ADD "deleted_for_user_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "message" ADD "deleted_for_user_id" character varying`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "deleted_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`CREATE TYPE "public"."audit_logs_risk_event_enum" AS ENUM('ABUSE', 'ANOMALY', 'BRUTE_FORCE', 'TOKEN_REUSE', 'RATE_LIMIT_TRIGGERED', 'POSSIBLE_COMPROMISE')`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "risk_event" "public"."audit_logs_risk_event_enum"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "user_id" character varying`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "user_agent" character varying`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "PK_aa3b4bbf226b9573fb3de6a99be"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "PK_b2b81130921679b878f6c5495d7" PRIMARY KEY ("id", "post_id", "hashtag_id")`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "FK_6b41c908e59dd1c45518efa4291"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "FK_5e6bd8131c5321b4dbf68f1ce5f"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_d3d78c80aedd7605863b5d1f14"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ALTER COLUMN "postId" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "PK_aa3b4bbf226b9573fb3de6a99be"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "PK_8b588099f92c96c59761b88a964" PRIMARY KEY ("id", "hashtagId", "post_id", "hashtag_id")`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ALTER COLUMN "hashtagId" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "PK_8b588099f92c96c59761b88a964"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "PK_b2b81130921679b878f6c5495d7" PRIMARY KEY ("id", "post_id", "hashtag_id")`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP CONSTRAINT "FK_b70c44e8b00757584a393225593"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ALTER COLUMN "userId" DROP NOT NULL`);
        await queryRunner.query(`CREATE INDEX "IDX_521766c01050bef30e5600c4b2" ON "like" ("created_at") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_3221edd468ef18cc93a806b74b" ON "like" ("post_id", "user_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_889e0abce86f466db2488ad739" ON "bookmark" ("user_id", "created_at") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_9835db6ee07225b1b2fad9943e" ON "bookmark" ("post_id", "user_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_8e1152672957ae8312354ff22c" ON "mention" ("reply_id", "mentioned_user_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_1815b34ed24c6feee36cb66360" ON "mention" ("post_id", "mentioned_user_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_6e8df8e05e93dc408065071130" ON "mention" ("mentioned_user_id", "created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_7dc106312b0d9f111acf7ca02a" ON "reply" ("author_id", "created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_3cf30b2d2c2249ec410b84ecdd" ON "reply" ("post_id", "created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_3f023b8dc80e2609d8dce8d22c" ON "repost" ("original_post_id", "created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_d2fee25ddac8d9798081cffe7c" ON "repost" ("user_id", "created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_dd688373931824f98e4e48f22f" ON "hashtag" ("usage_count") `);
        await queryRunner.query(`CREATE INDEX "IDX_d3d78c80aedd7605863b5d1f14" ON "post_hashtag" ("postId", "hashtagId") `);
        await queryRunner.query(`CREATE INDEX "IDX_caefca8a8185da9609bd364eaa" ON "post_hashtag" ("hashtagId", "created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_0f8f2f0c0512fbecbe3034b804" ON "post" ("created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_9bf357e95bffead052c455f46c" ON "post" ("author_id", "visibility", "created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_20b88691d81274bbfce4a037f5" ON "notification" ("recipient_id", "type", "created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_4ceacc6224f42136fecf68e89e" ON "notification" ("recipient_id", "read", "created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_f7a3dc31acc6f3488e2384de4c" ON "conversation_participant" ("conversation_id", "is_active") `);
        await queryRunner.query(`CREATE INDEX "IDX_5cbd22ccc0c2cdd09456b34879" ON "conversation_participant" ("user_id", "last_read_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_323ab6057181284467c57e5d60" ON "conversation" ("type", "created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_4414991bced54350c7ad1378fc" ON "conversation" ("last_message_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_884a95b95f46f1bc2cd7bee6de" ON "message_read_receipt" ("user_id", "read_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_6dc823440db308bf42c5319016" ON "message_reaction" ("message_id", "emoji") `);
        await queryRunner.query(`CREATE INDEX "IDX_3c4b06d0c298a0c179baf8ec70" ON "message" ("conversation_id", "status") `);
        await queryRunner.query(`CREATE INDEX "IDX_37d580205028f70d1a99f77242" ON "message" ("sender_id", "created_at") `);
        await queryRunner.query(`CREATE INDEX "IDX_0e0839b3e9fe785d3a39eebec0" ON "message" ("conversation_id", "created_at") `);
        await queryRunner.query(`ALTER TABLE "follows" ADD CONSTRAINT "UQ_8109e59f691f0444b43420f6987" UNIQUE ("follower_id", "following_id")`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD CONSTRAINT "UQ_e8317bf50da00fff74b97be3afa" UNIQUE ("conversation_id", "user_id")`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD CONSTRAINT "UQ_07db76f9fda62e35471899499b4" UNIQUE ("message_id", "user_id")`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD CONSTRAINT "UQ_3a2f03fc38778e3f0784df6f47c" UNIQUE ("message_id", "user_id", "emoji")`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD CONSTRAINT "FK_018295f41628791c301bfe8b625" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD CONSTRAINT "FK_3ddc983c5f7bcf132fd8732c3f4" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "like" ADD CONSTRAINT "FK_4356ac2f9519c7404a2869f1691" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "like" ADD CONSTRAINT "FK_d41caa70371e578e2a4791a88ae" FOREIGN KEY ("post_id") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD CONSTRAINT "FK_88d15be9a11888c73c7328a32fc" FOREIGN KEY ("post_id") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD CONSTRAINT "FK_8f1a143c6ba8bba0e2a4f41e0d0" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "media" ADD CONSTRAINT "FK_20dc152fa567df67110b94d6f16" FOREIGN KEY ("post_id") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "media" ADD CONSTRAINT "FK_a06d5fc3cbf364e3f7fe08f1350" FOREIGN KEY ("reply_id") REFERENCES "reply"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "mention" ADD CONSTRAINT "FK_1ceda53d50bbc68711ead73632a" FOREIGN KEY ("post_id") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "mention" ADD CONSTRAINT "FK_4533a736e6038b6de35d50befae" FOREIGN KEY ("reply_id") REFERENCES "reply"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "mention" ADD CONSTRAINT "FK_17edd318132abe43dcc02106d8d" FOREIGN KEY ("mentioned_user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "mention" ADD CONSTRAINT "FK_56116d97f4485e37b82685fd9bc" FOREIGN KEY ("author_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reply" ADD CONSTRAINT "FK_26661bdd4c8727e914b5f2b10b5" FOREIGN KEY ("post_id") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reply" ADD CONSTRAINT "FK_0d98e8ade07b472e8af8b856e1b" FOREIGN KEY ("author_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reply" ADD CONSTRAINT "FK_52950ff18c5841b7c67f1504b0f" FOREIGN KEY ("parent_reply_id") REFERENCES "reply"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "repost" ADD CONSTRAINT "FK_2aab7c4ee36af12259c641825b8" FOREIGN KEY ("original_post_id") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "repost" ADD CONSTRAINT "FK_59ab6efd4621bf07bd72e697e82" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "FK_6b41c908e59dd1c45518efa4291" FOREIGN KEY ("postId") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "FK_5e6bd8131c5321b4dbf68f1ce5f" FOREIGN KEY ("hashtagId") REFERENCES "hashtag"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "post" ADD CONSTRAINT "FK_2f1a9ca8908fc8168bc18437f62" FOREIGN KEY ("author_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD CONSTRAINT "FK_b70c44e8b00757584a393225593" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "follows" ADD CONSTRAINT "FK_54b5dc2739f2dea57900933db66" FOREIGN KEY ("follower_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "follows" ADD CONSTRAINT "FK_c518e3988b9c057920afaf2d8c0" FOREIGN KEY ("following_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "notification" ADD CONSTRAINT "FK_9830357f52360a126737d498e66" FOREIGN KEY ("recipient_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "notification" ADD CONSTRAINT "FK_16addcdc44128a517daeddd4491" FOREIGN KEY ("actor_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "notification" ADD CONSTRAINT "FK_3ee113bf568b5efdc29cd95a360" FOREIGN KEY ("post_id") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "notification" ADD CONSTRAINT "FK_a2559f02e2a4fec5eae362a4c00" FOREIGN KEY ("reply_id") REFERENCES "reply"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD CONSTRAINT "FK_f6f41e6c7af3a1ffaab8787c2b7" FOREIGN KEY ("conversation_id") REFERENCES "conversation"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD CONSTRAINT "FK_999e5e614e5eb74faf4fcdb8c0d" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD CONSTRAINT "FK_e1e830db6dcc38779b42ed4fe47" FOREIGN KEY ("created_by_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD CONSTRAINT "FK_31558d8a7da7c1017c9949cebcf" FOREIGN KEY ("message_id") REFERENCES "message"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD CONSTRAINT "FK_98adffd75b16a74d2fe0164e24e" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD CONSTRAINT "FK_c3aa2868fc9b2bc57d067642c58" FOREIGN KEY ("message_id") REFERENCES "message"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD CONSTRAINT "FK_14de7e1552e9b171172f8090b4f" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message" ADD CONSTRAINT "FK_7fe3e887d78498d9c9813375ce2" FOREIGN KEY ("conversation_id") REFERENCES "conversation"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message" ADD CONSTRAINT "FK_c0ab99d9dfc61172871277b52f6" FOREIGN KEY ("sender_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message" ADD CONSTRAINT "FK_7bde54db4741c92b434f7fdd292" FOREIGN KEY ("reply_to_id") REFERENCES "message"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "message" DROP CONSTRAINT "FK_7bde54db4741c92b434f7fdd292"`);
        await queryRunner.query(`ALTER TABLE "message" DROP CONSTRAINT "FK_c0ab99d9dfc61172871277b52f6"`);
        await queryRunner.query(`ALTER TABLE "message" DROP CONSTRAINT "FK_7fe3e887d78498d9c9813375ce2"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP CONSTRAINT "FK_14de7e1552e9b171172f8090b4f"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP CONSTRAINT "FK_c3aa2868fc9b2bc57d067642c58"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP CONSTRAINT "FK_98adffd75b16a74d2fe0164e24e"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP CONSTRAINT "FK_31558d8a7da7c1017c9949cebcf"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP CONSTRAINT "FK_e1e830db6dcc38779b42ed4fe47"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP CONSTRAINT "FK_999e5e614e5eb74faf4fcdb8c0d"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP CONSTRAINT "FK_f6f41e6c7af3a1ffaab8787c2b7"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP CONSTRAINT "FK_a2559f02e2a4fec5eae362a4c00"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP CONSTRAINT "FK_3ee113bf568b5efdc29cd95a360"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP CONSTRAINT "FK_16addcdc44128a517daeddd4491"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP CONSTRAINT "FK_9830357f52360a126737d498e66"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP CONSTRAINT "FK_c518e3988b9c057920afaf2d8c0"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP CONSTRAINT "FK_54b5dc2739f2dea57900933db66"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP CONSTRAINT "FK_b70c44e8b00757584a393225593"`);
        await queryRunner.query(`ALTER TABLE "post" DROP CONSTRAINT "FK_2f1a9ca8908fc8168bc18437f62"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "FK_5e6bd8131c5321b4dbf68f1ce5f"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "FK_6b41c908e59dd1c45518efa4291"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP CONSTRAINT "FK_59ab6efd4621bf07bd72e697e82"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP CONSTRAINT "FK_2aab7c4ee36af12259c641825b8"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP CONSTRAINT "FK_52950ff18c5841b7c67f1504b0f"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP CONSTRAINT "FK_0d98e8ade07b472e8af8b856e1b"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP CONSTRAINT "FK_26661bdd4c8727e914b5f2b10b5"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP CONSTRAINT "FK_56116d97f4485e37b82685fd9bc"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP CONSTRAINT "FK_17edd318132abe43dcc02106d8d"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP CONSTRAINT "FK_4533a736e6038b6de35d50befae"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP CONSTRAINT "FK_1ceda53d50bbc68711ead73632a"`);
        await queryRunner.query(`ALTER TABLE "media" DROP CONSTRAINT "FK_a06d5fc3cbf364e3f7fe08f1350"`);
        await queryRunner.query(`ALTER TABLE "media" DROP CONSTRAINT "FK_20dc152fa567df67110b94d6f16"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP CONSTRAINT "FK_8f1a143c6ba8bba0e2a4f41e0d0"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP CONSTRAINT "FK_88d15be9a11888c73c7328a32fc"`);
        await queryRunner.query(`ALTER TABLE "like" DROP CONSTRAINT "FK_d41caa70371e578e2a4791a88ae"`);
        await queryRunner.query(`ALTER TABLE "like" DROP CONSTRAINT "FK_4356ac2f9519c7404a2869f1691"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP CONSTRAINT "FK_3ddc983c5f7bcf132fd8732c3f4"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP CONSTRAINT "FK_018295f41628791c301bfe8b625"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP CONSTRAINT "UQ_3a2f03fc38778e3f0784df6f47c"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP CONSTRAINT "UQ_07db76f9fda62e35471899499b4"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP CONSTRAINT "UQ_e8317bf50da00fff74b97be3afa"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP CONSTRAINT "UQ_8109e59f691f0444b43420f6987"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_0e0839b3e9fe785d3a39eebec0"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_37d580205028f70d1a99f77242"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_3c4b06d0c298a0c179baf8ec70"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_6dc823440db308bf42c5319016"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_884a95b95f46f1bc2cd7bee6de"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_4414991bced54350c7ad1378fc"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_323ab6057181284467c57e5d60"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_5cbd22ccc0c2cdd09456b34879"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f7a3dc31acc6f3488e2384de4c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_4ceacc6224f42136fecf68e89e"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_20b88691d81274bbfce4a037f5"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_9bf357e95bffead052c455f46c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_0f8f2f0c0512fbecbe3034b804"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_caefca8a8185da9609bd364eaa"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_d3d78c80aedd7605863b5d1f14"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_dd688373931824f98e4e48f22f"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_d2fee25ddac8d9798081cffe7c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_3f023b8dc80e2609d8dce8d22c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_3cf30b2d2c2249ec410b84ecdd"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_7dc106312b0d9f111acf7ca02a"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_6e8df8e05e93dc408065071130"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_1815b34ed24c6feee36cb66360"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_8e1152672957ae8312354ff22c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_9835db6ee07225b1b2fad9943e"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_889e0abce86f466db2488ad739"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_3221edd468ef18cc93a806b74b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_521766c01050bef30e5600c4b2"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ALTER COLUMN "userId" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD CONSTRAINT "FK_b70c44e8b00757584a393225593" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "PK_b2b81130921679b878f6c5495d7"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "PK_8b588099f92c96c59761b88a964" PRIMARY KEY ("id", "hashtagId", "post_id", "hashtag_id")`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ALTER COLUMN "hashtagId" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "PK_8b588099f92c96c59761b88a964"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "PK_aa3b4bbf226b9573fb3de6a99be" PRIMARY KEY ("id", "postId", "hashtagId", "post_id", "hashtag_id")`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ALTER COLUMN "postId" SET NOT NULL`);
        await queryRunner.query(`CREATE INDEX "IDX_d3d78c80aedd7605863b5d1f14" ON "post_hashtag" ("postId", "hashtagId") `);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "FK_5e6bd8131c5321b4dbf68f1ce5f" FOREIGN KEY ("hashtagId") REFERENCES "hashtag"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "FK_6b41c908e59dd1c45518efa4291" FOREIGN KEY ("postId") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "PK_b2b81130921679b878f6c5495d7"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "PK_aa3b4bbf226b9573fb3de6a99be" PRIMARY KEY ("id", "postId", "hashtagId", "post_id", "hashtag_id")`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "user_agent"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "risk_event"`);
        await queryRunner.query(`DROP TYPE "public"."audit_logs_risk_event_enum"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "deleted_for_user_id"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "deleted_for_user_at"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "reply_to_id"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "sender_id"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "conversation_id"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "message" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP COLUMN "reacted_at"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP COLUMN "message_id"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "message_reaction" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP COLUMN "read_at"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP COLUMN "message_id"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "last_message_id"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "last_message_at"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "unread_count"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "message_count"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "created_by_id"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "avatar_public_id"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "conversation" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "notifications_enabled"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "unread_count"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "last_read_at"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "left_at"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "joined_at"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "is_admin"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "conversation_id"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "actor_id"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "recipient_id"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "reply_id"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "post_id"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "notification" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP COLUMN "follower_id"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP COLUMN "following_id"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "follows" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "email_verified"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "password_hash"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "resource_type"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "last_name"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "avatar_public_id"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "first_name"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "muted_keywords"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "muted_users"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "delivery_timing"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "vibration_enabled"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "sound_enabled"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "push_system"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "push_mentions"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "push_follows"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "push_reposts"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "push_replies"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "push_likes"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "email_digest"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "email_system"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "email_mentions"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "email_follows"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "email_reposts"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "email_replies"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "email_likes"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "media_count"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "view_count"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "repost_count"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "reply_count"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "like_count"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "author_id"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "post" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "PK_aa3b4bbf226b9573fb3de6a99be"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "PK_f2e002d752f6d70bf3fadf42da0" PRIMARY KEY ("id", "postId", "hashtagId", "post_id")`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP COLUMN "hashtag_id"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP CONSTRAINT "PK_f2e002d752f6d70bf3fadf42da0"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD CONSTRAINT "PK_99f5561c426fbd758425ed3be58" PRIMARY KEY ("id", "postId", "hashtagId")`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP COLUMN "post_id"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "last_used_at"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "trend_score"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "post_count"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "usage_count"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "hashtag" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP COLUMN "original_post_id"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "repost" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "parent_reply_id"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "reply_count"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "author_id"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "post_id"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "reply" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "author_id"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "mentioned_user_id"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "reply_id"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "post_id"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "mention" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "reply_id"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "post_id"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "resource_type"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "media_url"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "public_id"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "media" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP COLUMN "post_id"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "bookmark" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "like" DROP COLUMN "post_id"`);
        await queryRunner.query(`ALTER TABLE "like" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "like" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "like" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "like" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "user_agent"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "last_used_at"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "expires_at"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "hashed_token"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "token_id"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP COLUMN "user_id"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP COLUMN "expires_at"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP COLUMN "token_hash"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "email_tokens" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "userAgent" character varying`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "userId" character varying`);
        await queryRunner.query(`CREATE TYPE "public"."audit_logs_riskevent_enum" AS ENUM('ABUSE', 'ANOMALY', 'BRUTE_FORCE', 'TOKEN_REUSE', 'RATE_LIMIT_TRIGGERED', 'POSSIBLE_COMPROMISE')`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "riskEvent" "public"."audit_logs_riskevent_enum"`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "audit_logs" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message" ADD "deletedForUserId" character varying`);
        await queryRunner.query(`ALTER TABLE "message" ADD "deletedForUserAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "message" ADD "replyToId" uuid`);
        await queryRunner.query(`ALTER TABLE "message" ADD "senderId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message" ADD "conversationId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "message" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD "messageId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD "reactedAt" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD "readAt" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD "messageId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "lastMessageId" character varying`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "avatarPublicId" character varying`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "lastMessageAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "unreadCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "messageCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "createdById" uuid`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "notificationsEnabled" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "unreadCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "lastReadAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "leftAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "joinedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "isAdmin" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "isActive" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "conversationId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "actorId" uuid`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "recipientId" uuid`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "replyId" uuid`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "postId" uuid`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "notification" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "follows" ADD "followerId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "follows" ADD "followingId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "follows" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "follows" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "follows" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "users" ADD "lastName" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "avatarPublicId" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "firstName" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "passwordHash" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "resourceType" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "emailVerified" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "users" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "users" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "users" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "deliveryTiming" character varying NOT NULL DEFAULT 'immediate'`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "pushFollows" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "pushReposts" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "pushReplies" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "pushLikes" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "emailDigest" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "emailSystem" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "emailMentions" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "emailFollows" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "emailReposts" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "emailReplies" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "emailLikes" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "mutedKeywords" jsonb NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "mutedUsers" jsonb NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "vibrationEnabled" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "soundEnabled" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "pushSystem" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "notification_preferences" ADD "pushMentions" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "post" ADD "mediaCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "post" ADD "viewCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "post" ADD "repostCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "post" ADD "replyCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "post" ADD "likeCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "post" ADD "authorId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "post" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "post" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "post" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "post_hashtag" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "lastUsedAt" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "trendScore" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "postCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "usageCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "hashtag" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "repost" ADD "originalPostId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "repost" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "repost" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "repost" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "repost" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "parentReplyId" uuid`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "replyCount" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "authorId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "postId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "reply" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "authorId" uuid`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "mentionedUserId" uuid`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "replyId" uuid`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "postId" uuid`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "mention" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "media" ADD "resourceType" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "media" ADD "mediaUrl" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "media" ADD "publicId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "media" ADD "replyId" uuid`);
        await queryRunner.query(`ALTER TABLE "media" ADD "postId" uuid`);
        await queryRunner.query(`ALTER TABLE "media" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "media" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "media" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD "postId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "like" ADD "postId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "like" ADD "userId" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "like" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "like" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "like" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "userAgent" character varying`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "hashedToken" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "tokenId" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "userId" uuid`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "lastUsedAt" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "expiresAt" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD "tokenHash" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD "userId" uuid`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD "expiresAt" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD "deletedAt" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD CONSTRAINT "UQ_c871c8d2853d134cdde46be8d38" UNIQUE ("messageId", "userId", "emoji")`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD CONSTRAINT "UQ_37402a50d69deae8474db6ba6eb" UNIQUE ("messageId", "userId")`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD CONSTRAINT "UQ_497b032725751e1aad8a85832a7" UNIQUE ("conversationId", "userId")`);
        await queryRunner.query(`ALTER TABLE "follows" ADD CONSTRAINT "UQ_105079775692df1f8799ed0fac8" UNIQUE ("followingId", "followerId")`);
        await queryRunner.query(`CREATE INDEX "IDX_e330398c18c7d9696967901f16" ON "message" ("createdAt", "conversationId") `);
        await queryRunner.query(`CREATE INDEX "IDX_8051177e63e114cb9e78db7f0b" ON "message" ("createdAt", "senderId") `);
        await queryRunner.query(`CREATE INDEX "IDX_43d456f71ba20d9bf7af75fd58" ON "message" ("status", "conversationId") `);
        await queryRunner.query(`CREATE INDEX "IDX_c1d81dc27ccbf6a262de6b475e" ON "message_reaction" ("messageId", "emoji") `);
        await queryRunner.query(`CREATE INDEX "IDX_386104d4a04619e31c992c9f0f" ON "message_read_receipt" ("userId", "readAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_b282116c9f066598e94366f085" ON "conversation" ("lastMessageAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_797b4961f6bdf7bada4624b1bc" ON "conversation" ("createdAt", "type") `);
        await queryRunner.query(`CREATE INDEX "IDX_9e507a3c8bb9b3e3c53e22d3f2" ON "conversation_participant" ("userId", "lastReadAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_5cf45176a1608ebdacc516a58c" ON "conversation_participant" ("conversationId", "isActive") `);
        await queryRunner.query(`CREATE INDEX "IDX_34cb743d36153e131fa42581b9" ON "notification" ("createdAt", "read", "recipientId") `);
        await queryRunner.query(`CREATE INDEX "IDX_746b493e181b364e6ceb0df539" ON "notification" ("createdAt", "type", "recipientId") `);
        await queryRunner.query(`CREATE INDEX "IDX_333b5b35488ffbf401d0728b46" ON "post" ("createdAt", "visibility", "authorId") `);
        await queryRunner.query(`CREATE INDEX "IDX_fb91bea2d37140a877b775e6b2" ON "post" ("createdAt") `);
        await queryRunner.query(`CREATE INDEX "IDX_fc550e52604301a6fcc23183e9" ON "post_hashtag" ("createdAt", "hashtagId") `);
        await queryRunner.query(`CREATE INDEX "IDX_251105b046faae0f8740ab39cb" ON "hashtag" ("usageCount") `);
        await queryRunner.query(`CREATE INDEX "IDX_07a8923e0c3543fb9c6bc2e35c" ON "repost" ("createdAt", "userId") `);
        await queryRunner.query(`CREATE INDEX "IDX_5c73da33047a8e7f862fbd65c9" ON "repost" ("createdAt", "originalPostId") `);
        await queryRunner.query(`CREATE INDEX "IDX_c5a573b830502bf341d9ec9803" ON "reply" ("createdAt", "postId") `);
        await queryRunner.query(`CREATE INDEX "IDX_2ae88db6d7f193e004ee1d9794" ON "reply" ("createdAt", "authorId") `);
        await queryRunner.query(`CREATE INDEX "IDX_81e9616cb4c5c0f18ec277950b" ON "mention" ("createdAt", "mentionedUserId") `);
        await queryRunner.query(`CREATE INDEX "IDX_f997b5003d8b22a0ec0902e55c" ON "mention" ("postId", "mentionedUserId") `);
        await queryRunner.query(`CREATE INDEX "IDX_ad94e8d3b6b2525d4980f960cd" ON "mention" ("replyId", "mentionedUserId") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_9e9632e3b6afa29ac5bb84a5d5" ON "bookmark" ("userId", "postId") `);
        await queryRunner.query(`CREATE INDEX "IDX_b6aae0d8a415c27308fe51c837" ON "bookmark" ("createdAt", "userId") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "IDX_78a9f4a1b09b6d2bf7ed85f252" ON "like" ("userId", "postId") `);
        await queryRunner.query(`CREATE INDEX "IDX_ca9645f823ed33ad823063b35b" ON "like" ("createdAt") `);
        await queryRunner.query(`ALTER TABLE "message" ADD CONSTRAINT "FK_7cf4a4df1f2627f72bf6231635f" FOREIGN KEY ("conversationId") REFERENCES "conversation"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message" ADD CONSTRAINT "FK_bc096b4e18b1f9508197cd98066" FOREIGN KEY ("senderId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message" ADD CONSTRAINT "FK_dc84d76f927b87f616cbedcf2e5" FOREIGN KEY ("replyToId") REFERENCES "message"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD CONSTRAINT "FK_4418b4dacb57158842838039f30" FOREIGN KEY ("messageId") REFERENCES "message"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message_reaction" ADD CONSTRAINT "FK_2773f1753769d807ebbd2aa11df" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD CONSTRAINT "FK_bd541f78e314e4338e426193e97" FOREIGN KEY ("messageId") REFERENCES "message"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "message_read_receipt" ADD CONSTRAINT "FK_19823ab5b50fca62c6cd34f63b3" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "conversation" ADD CONSTRAINT "FK_c681529d2e6afa4aed28ef53b08" FOREIGN KEY ("createdById") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD CONSTRAINT "FK_b1a75fd6cdb0ab0a82c5b01c34f" FOREIGN KEY ("conversationId") REFERENCES "conversation"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "conversation_participant" ADD CONSTRAINT "FK_dd90174e375c888d7f431cf829e" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "notification" ADD CONSTRAINT "FK_ab7cbe7a013ecac5da0a8f88884" FOREIGN KEY ("recipientId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "notification" ADD CONSTRAINT "FK_c5133a026bd1b3d9feccac1a234" FOREIGN KEY ("actorId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "notification" ADD CONSTRAINT "FK_c7dc378ca2844fdfe647e00e993" FOREIGN KEY ("postId") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "notification" ADD CONSTRAINT "FK_d104e7757e67c546db1bf4245d5" FOREIGN KEY ("replyId") REFERENCES "reply"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "follows" ADD CONSTRAINT "FK_fdb91868b03a2040db408a53331" FOREIGN KEY ("followerId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "follows" ADD CONSTRAINT "FK_ef463dd9a2ce0d673350e36e0fb" FOREIGN KEY ("followingId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "post" ADD CONSTRAINT "FK_c6fb082a3114f35d0cc27c518e0" FOREIGN KEY ("authorId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "repost" ADD CONSTRAINT "FK_1398d4509dfe620c68724aeff30" FOREIGN KEY ("originalPostId") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "repost" ADD CONSTRAINT "FK_d485b70d5447a47d8ebcb815920" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reply" ADD CONSTRAINT "FK_650bb493bc96cdc1c6a95d50ccd" FOREIGN KEY ("postId") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reply" ADD CONSTRAINT "FK_9c7aa85b4b2be67c1b7235d03fe" FOREIGN KEY ("authorId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reply" ADD CONSTRAINT "FK_f0af68fe0e599c7cc7f34699ad5" FOREIGN KEY ("parentReplyId") REFERENCES "reply"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "mention" ADD CONSTRAINT "FK_6e47473e7777212acf0f1f10e66" FOREIGN KEY ("postId") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "mention" ADD CONSTRAINT "FK_ff19b87c8b552823b87abf5c7af" FOREIGN KEY ("replyId") REFERENCES "reply"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "mention" ADD CONSTRAINT "FK_16a2deee0d7ea361950eed1b944" FOREIGN KEY ("mentionedUserId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "mention" ADD CONSTRAINT "FK_d2f967c23ec5174f12c53ee6712" FOREIGN KEY ("authorId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "media" ADD CONSTRAINT "FK_9dcde1b1308b5f22f34b8454e28" FOREIGN KEY ("postId") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "media" ADD CONSTRAINT "FK_d9e592b7c68d3aab7582e28a06a" FOREIGN KEY ("replyId") REFERENCES "reply"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD CONSTRAINT "FK_ee4a9b84b65399f9a6581d9a9a5" FOREIGN KEY ("postId") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "bookmark" ADD CONSTRAINT "FK_e389fc192c59bdce0847ef9ef8b" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "like" ADD CONSTRAINT "FK_e8fb739f08d47955a39850fac23" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "like" ADD CONSTRAINT "FK_3acf7c55c319c4000e8056c1279" FOREIGN KEY ("postId") REFERENCES "post"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "refresh_tokens" ADD CONSTRAINT "FK_610102b60fea1455310ccd299de" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "email_tokens" ADD CONSTRAINT "FK_0a5e6c81093655b770eabd04600" FOREIGN KEY ("userId") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
    }

}
